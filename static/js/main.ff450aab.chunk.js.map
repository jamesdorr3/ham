{"version":3,"sources":["constants.js","actions/searchActions.js","components/SearchContainer/SearchResultCard/SearchResultCard.js","components/SearchContainer/SearchContainer.js","actions/foodsActions.js","components/Table/CategoryCard/ChoiceCard/ChoiceCard.js","actions/choicesActions.js","components/Table/CategoryCard/CategoryCard.js","actions/goalsActions.js","components/Table/GoalsRow/AutogenerateGoal/AutogenerateGoal.js","actions/daysActions.js","components/Table/GoalsRow/GoalsRow.js","actions/saveAllAction.js","components/Table/Table.js","actions/authActions.js","components/Header/SignedInHeader/MakeFoodCard/MakeFoodCard.js","components/Header/SignedInHeader/SignedInHeader.js","components/Header/NotSignedInHeader/LoginCard/LoginCard.js","actions/passwordActions.js","components/Header/NotSignedInHeader/SignUpCard/SignUpCard.js","actions/usersActions.js","components/Header/NotSignedInHeader/ResetPasswordCard/ResetPasswordCard.js","components/Header/NotSignedInHeader/NotSignedInHeader.js","components/Header/Header.js","components/Footer/Footer.js","App.js","serviceWorker.js","Redux/reducer.js","index.js"],"names":["URL","HEADERS","Accept","Authorization","localStorage","getItem","externalSearch","searchTerm","pageNumber","dispatch","fetch","headers","connect","state","day","selectInternalSearchResult","prop","idAndCategory","type","method","body","JSON","stringify","then","r","json","choiceFood","payload","selectSearchResult","props","choiceAndFood","className","onClick","hideResults","clearForm","food","id","foodId","categoryId","dayId","fdcId","name","description","brand","brandOwner","fat","carbs","protein","toFixed","SearchContainer","text","favorites","filteredFavorites","common","internal","error","addFood","currentPage","totalPages","showResults","categories","loading","filteredRemoved","componentDidMount","foodsIndex","setState","matchesSearch","toLowerCase","includes","handleChange","e","target","value","length","clearResults","filter","handleSubmit","preventDefault","encodeURIComponent","branded","categoryByTime","hour","Date","getHours","find","x","makeSearchResultCard","key","searchPhrase","this","concat","current_page","total_pages","onFocus","onSubmit","onChange","placeholder","src","alt","map","removed","React","Component","ChoiceCard","autoUpdateMacro","macro","amount","choice","measure","measures","measure_id","servings","grams","serving_grams","updateInDB","updateChoice","handleAmountChange","editChoice","handleMeasureChange","parseInt","generateMeasures","sort","y","deleteChoice","setTimeout","destroyChoice","handleFocus","window","addEventListener","handleBlur","removeEventListener","draggableId","index","provided","draggableProps","dragHandleProps","ref","innerRef","input","amountInput","min","onBlur","info","choiceObj","choiceFoods","autoSum","sum","category_id","category","forEach","droppableId","droppableProps","updateGoal","goal","createGoal","deleteGoal","AutogenerateGoal","showUserInfo","feet","inches","weight","bodyFat","age","gender","activityLevel","calorieGoalAdjuster","macroGoal","tdeeCals","calorieGoalDescriptor","katchMcArdle","mifflin","parseFloat","calories","user_id","user","day_id","toggleAutogenerate","activityLevelSelect","oldName","multiplier","opt","calorieGoalAdjusterSelect","macroGoalsSelect","macroGoals","goalProfile","required","max","pattern","createDay","date","toLocaleString","selectDay","dayAndInfo","deleteDay","updateDay","GoalsRow","showEditGoalForm","goalsSelector","sortedGoals","goals","a","b","changeGoal","goal_id","addGoal","editGoal","showAutogenerateForm","defaultValue","readonly","style","display","userId","saveAll","addChoices","choices","selectUser","editGoalName","keyRow","compareForStyle","email","macrosLeftRow","reauth","response","jwtAndUser","jwt","MakeFoodCard","serving_unit_amount","serving_unit_name","cholesterol","dietary_fiber","potassium","saturated_fat","sodium","sugars","unit_size","upc","s","createFood","toggleNewFoodForm","showNewFoodForm","step","list","moreInfoForm","SignedInHeader","username","usernameOrEmail","password","signup","editDay","handleSignOut","removeItem","signOut","prettyDayDisplay","dayObj","slice","dayOptions","days","handleDayFormChange","dayChangeHandler","todaysDate","year","getFullYear","month","getMonth","getDate","confirm","anotherDay","copyDay","hideMenu","checkbox","checked","href","startLoading","stopLoading","LoginCard","showSignup","toggleSignup","auth","username_or_email","setItem","message","forgotPassword","match","autoComplete","SignUpCard","password2","createUser","resp","handleSignupClick","minLength","token","resetPassword","status","closeResetPassword","position","right","textAlign","color","fontWeight","NotSignedInHeader","showPasswordReset","showAuth","signedIn","toggleShowAuth","params","location","search","split","decodeURIComponent","disabled","ResetPasswordCard","closePasswordReset","Header","editDayName","dayName","created_at","editDayToggle","handleDayNameChange","localStorageState","parse","addLocalStorageState","Footer","App","onDragEnd","result","destination","orderedIds","indexOf","splice","i","Boolean","hostname","_","require","initialState","putInLocalStorage","reducer","action","choiceFoodsCopy","cloneDeep","push","now","removedChoice","choice_foods","newChoices","choicesIds","choiceId","daysCopy","dayCopy","newGoals","console","log","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ff450aab.chunk.js","sourcesContent":["export const URL = 'https://ham-backend.herokuapp.com/'\n// export const URL = 'http://localhost:3001/'\n\nexport const HEADERS = () => ({\n  'Content-Type':'application/json',\n  Accept: 'application/json',\n  Authorization: localStorage.getItem('token') ? `BEARER ${localStorage.getItem('token')}` : null\n  // Authorization: // upcase or title?\n})","import {URL, HEADERS} from '../constants'\n\nexport const selectSearchResult = (props) => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}search/make_choice`, {\n      method: 'POST',\n      headers: HEADERS(),\n      body: JSON.stringify(props)\n    })\n    .then(r => r.json())\n    .then(choiceAndFood => {\n      // debugger\n      dispatch({type: 'STOP_LOADING'})\n      dispatch({ type: 'ADD_CHOICE', payload: choiceAndFood})\n    })\n  }\n}\n\nexport const selectInternalSearchResult = (idAndCategory) => {\n  // debugger\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/choices`, {method: 'POST', headers: HEADERS(), body: JSON.stringify(idAndCategory)})\n    .then(r => r.json())\n    .then(choiceFood  => {\n      // debugger\n      dispatch({type: 'STOP_LOADING'})\n      dispatch({ type: 'ADD_CHOICE', payload: choiceFood})\n    })\n  }\n}\n\nexport const internalSearch = (searchTerm) => {\n  return dispatch => {\n    return fetch(`${URL}search/internal_search?q=${searchTerm}`, {headers: HEADERS()})\n  }\n}\n\nexport const favoriteSearch = (searchTerm) => {\n  return dispatch => {\n    return fetch(`${URL}search/favorite_search?q=${searchTerm}`, {headers: HEADERS()})\n  }\n}\n\nexport const externalSearch = (searchTerm, pageNumber = 1) => {\n  return dispatch => {\n    return fetch(`${URL}search/many?q=${searchTerm}&pageNumber=${pageNumber}`, {headers: HEADERS()})\n  }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport {selectInternalSearchResult, selectSearchResult} from '../../../actions/searchActions'\n\nconst SearchResultCard = props => {\n\n  const handleAddChoice = () => {\n    // debugger\n    props.hideResults()\n    props.clearForm()\n    if(props.food.id){\n      props.selectInternalSearchResult({foodId: props.food.id, categoryId: props.categoryId, dayId: props.day.id})\n    }else{\n      props.selectSearchResult({fdcId: props.food.fdcId, categoryId: props.categoryId, dayId: props.day.id})\n    }\n  }\n\n  return(\n    <li className='searchResult' onClick={handleAddChoice}>\n      <span className='resultName'>{props.food.name || props.food.description}</span>\n      {props.food.brand ? <span className='brandName'> - {props.food.brand}</span> : null}\n      {props.food.brandOwner ? <span className='brandName'> - {props.food.brandOwner}</span> : null}\n      {props.food.fat || props.food.carbs || props.food.protein ? \n      <ul className='resultMacros'>\n        <li>fat: {props.food.fat.toFixed()}</li>\n        <li>carbs: {props.food.carbs.toFixed()}</li>\n        <li>protein: {props.food.protein.toFixed()}</li>\n      </ul>\n      : null\n      }\n    </li>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n    day: state.day\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    selectInternalSearchResult: prop => dispatch(selectInternalSearchResult(prop)),\n    selectSearchResult: prop => dispatch(selectSearchResult(prop))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchResultCard)","import React from 'react';\nimport SearchResultCard from './SearchResultCard/SearchResultCard';\n\nimport {connect} from 'react-redux';\nimport {externalSearch} from '../../actions/searchActions';\nimport {foodsIndex} from '../../actions/foodsActions';\n\nclass SearchContainer extends React.Component {\n\n  state = {\n    text: '',\n    favorites: [],\n    filteredFavorites: [],\n    common: [],\n    internal: [],\n    error: false,\n    addFood: false,\n    currentPage: 0,\n    totalPages: 0,\n    showResults: false,\n    categories: [],\n    loading: false,\n    filteredRemoved: [],\n  }\n\n  componentDidMount = () => {\n    this.props.foodsIndex('')\n    .then(r => r.json())\n    .then(r => {\n      this.setState({favorites: r.favorites})\n    })\n  }\n\n  foodsIndex = (text) => {\n    this.props.foodsIndex(text)\n    .then(r => r.json())\n    .then(r => {\n      this.setState({filteredFavorites: r.favorites})\n      if(r.categories){this.setState({categories: r.categories})}\n    })\n  }\n\n  matchesSearch = (searchTerm, food) => {\n    searchTerm = searchTerm.toLowerCase()\n    return food.name.toLowerCase().includes(searchTerm) || (food.brand && food.brand.toLowerCase().includes(searchTerm))\n  }\n\n  handleChange = e => {\n    this.setState({text: e.target.value})\n    if(e.target.value.length === 0) {\n      this.foodsIndex('')\n      this.clearResults()\n    }else{\n      this.setState({\n        filteredFavorites: this.state.favorites.filter( (food) => this.matchesSearch(e.target.value, food))\n      })\n    }\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    const searchTerm = encodeURIComponent(this.state.text)\n    if (searchTerm){\n      this.setState({common: []})\n      this.foodsIndex(searchTerm)\n      this.externalSearch(searchTerm, 1)\n    }\n  }\n\n  externalSearch(searchPhrase, pageNumber = 1){\n    this.setState({loading:true})\n    this.props.externalSearch(searchPhrase, pageNumber)\n    .then(r => r.json())\n    .then(r => {\n      this.setState({loading:false})\n      if (r.common && r.common.length > 0){\n        this.setState({common: this.state.common.concat(r.common), currentPage: r.current_page, totalPages: r.total_pages})\n      }\n      else{\n        this.setState({error: 'No More Results'})\n      }\n    })\n  }\n\n  clearResults = () => {\n    this.setState({\n      filteredFavorites: [],\n      branded: [],\n      common: [],\n      internal: [],\n      text: '',\n      error: false,\n      currentPage: 0,\n      totalPages: 0,\n      categories: [],\n      loading: false\n    })\n  }\n\n  categoryByTime = () => {\n    const hour = new Date().getHours()\n    const categories = this.props.categories\n    if (hour < 9){return categories.find(x => x.name === 'Breakfast').id || categories[0] }\n    else if (hour < 16){return categories.find(x => x.name === 'Lunch').id || categories[0] }\n    else{return categories.find(x => x.name === 'Dinner').id || categories[0] }\n  }\n\n  makeSearchResultCard = (food) => {\n    return < SearchResultCard\n    categoryId={this.categoryByTime()} // i\n    key={food.id || food.fdcId} // \n    food={food}  //  // i\n    clearForm={this.clearResults} // i\n    hideResults={this.hideResults}\n    />\n  }\n\n  showResults = () => {\n    this.setState({showResults: true})\n  }\n\n  hideResults = () => {\n    this.setState({showResults: false})\n  }\n\n  render(){\n    return(\n      <div className='centered row foodSearchContainer' onFocus={this.showResults}>\n        <form onSubmit={this.handleSubmit} className='searchForm'>\n          <input type='search' \n            // list='popularSearches'\n            value={this.state.text} \n            onChange={this.handleChange}\n            placeholder='Search for any food...'\n            className='searchText'\n            >\n          </input>\n          <input type='image' src='search-icon.png' alt='Search' name='submit' className='searchButton searchIcon'></input>\n        </form>\n        <ul className={this.state.showResults ? 'searchResultContainer' : 'searchResultContainerHidden'} >\n          <h5>Favorites</h5>\n          {this.state[this.state.filteredFavorites.length > 0 || this.state.text !== '' ? 'filteredFavorites' : 'favorites'].map(food => this.makeSearchResultCard(food))}\n          {/* {this.state.categories.length===0 ? null : this.state.categories.map(cat => this.makeSearchResultCard(cat))} */}\n          <h5>More Results</h5>\n          {this.state.internal.map(food => this.makeSearchResultCard(food))}\n          {this.state.common.map(food => this.makeSearchResultCard(food))}\n\n          {this.state.currentPage < this.state.totalPages\n          ?\n          <li \n          className='searchResult loadMore'\n          onClick={()=>this.externalSearch(this.state.text, this.state.currentPage + 1)}\n          >\n            Load More - Showing {(this.state.currentPage/this.state.totalPages*100).toFixed()}% of results\n          </li>\n          :\n          null\n          }\n          {this.state.loading ? <div className='searchLoading'><span/></div> : null}\n\n          {this.state.error ? <li>{this.state.error}</li> : null}\n          {this.props.removed.length > 0 \n            ? \n            <>\n            <h5>Recently Deleted</h5>\n            {this.props.removed.map(food => this.makeSearchResultCard(food))}\n            </>\n            : null\n          }\n        </ul>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    externalSearch: (searchTerm, pageNumber = 1) => dispatch(externalSearch(searchTerm, pageNumber)),\n    foodsIndex: (searchTerm) => dispatch(foodsIndex(searchTerm))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchContainer)","import {URL, HEADERS} from '../constants'\n\nexport const createFood = (food) => {\n  // debugger\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/foods`, {\n      method: 'POST',\n      headers: HEADERS(),\n      body: JSON.stringify(food)\n    })\n    .then(r => r.json())\n    .then(choiceFood => {\n      dispatch({type: 'STOP_LOADING'})\n      dispatch({type: 'ADD_FOOD', payload: choiceFood})\n    })\n  }\n}\n\nexport const foodsIndex = (searchTerm) => {\n  return dispatch => {\n    return fetch(`${URL}/foods?q=${searchTerm}`, {headers: HEADERS()})\n  }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport {Draggable} from 'react-beautiful-dnd'\nimport {updateChoice, destroyChoice} from '../../../../actions/choicesActions'\n\nclass ChoiceCard extends React.Component {\n\n  state = {\n    className: 'choice grid'\n  }\n\n  componentDidMount(){\n    this.setState({className: 'grid toExpand'})\n    setTimeout(() => {\n      this.setState({className: 'choice grid'})\n    }, 500)\n  }\n  \n  autoUpdateMacro = macro => {\n    const amount = this.props.choiceFood.choice.amount\n    const measure = this.props.choiceFood.measures.find(x => x.id === this.props.choiceFood.choice.measure_id)\n    const totalGrams = amount * measure.grams\n    const servingAmount = this.props.choiceFood.food.serving_grams\n    const measureAmount = measure.amount? measure.amount : 1\n    const servings = (totalGrams / servingAmount) / measureAmount\n\n    return (this.props.choiceFood.food[macro] * servings).toFixed()\n  }\n\n  updateInDB = (payload = null) => {\n    this.props.updateChoice({...this.props.choiceFood.choice, ...payload})\n  }\n\n  handleAmountChange = (e) => {\n    if (e.target.value >= 0) {\n      const id = this.props.choiceFood.choice.id\n      const amount = e.target.value\n      const payload = {id: id, amount: amount}\n      this.props.editChoice({choice: payload})\n    }\n  }\n\n  handleMeasureChange = (e) => {\n    // const fromMeasureId = this.props.choiceFood.choice.measure_id\n    // const fromMeasure = this.props.choiceFood.measures.find(x => x.id === fromMeasureId)\n    // const toMeasureId = parseInt(e.target.value)\n    // const toMeasure = this.props.choiceFood.measures.find(x => x.id === toMeasureId)\n    // let newAmount = (fromMeasure.grams / toMeasure.grams * this.props.choiceFood.choice.amount) * ((toMeasure.amount || 1) / (fromMeasure.amount || 1))\n    // if (!/^gram(s)?$/i.test(toMeasure.name)){newAmount = newAmount.toFixed(2)}\n    // else{newAmount = newAmount.toFixed()}\n    // // debugger\n    // this.props.editChoice({choice: {measure_id: toMeasureId, amount: newAmount, id: this.props.choiceFood.choice.id}})\n    const measure_id = parseInt(e.target.value)\n    const id = this.props.choiceFood.choice.id\n    const payload = {measure_id: measure_id, id: id}\n    this.props.editChoice({choice: payload})\n    this.updateInDB(payload)\n  }\n\n  generateMeasures = () => {\n    const measures = this.props.choiceFood.measures\n\n    return measures.sort((x,y) => x.name - y.name).map(measure => {\n      return (\n        <option value={measure.id} key={measure.id} >{measure.name}</option>\n      )\n    })\n  }\n\n  deleteChoice = () => {\n    // debugger\n    this.setState({className: 'grid shrunk'})\n    setTimeout(() => {\n      const id = this.props.choiceFood.choice.id\n      this.props.deleteChoice(id)\n      this.props.destroyChoice(id)\n    }, 500)\n  }\n\n  handleFocus = () => {\n    window.addEventListener('beforeunload', this.updateInDB)\n  }\n\n  handleBlur = () => {\n    window.removeEventListener('beforeunload', this.updateInDB)\n    this.updateInDB()\n  }\n\n  render(){\n    return(\n      <Draggable \n        draggableId={this.props.choiceFood.choice.id} \n        index={this.props.index}\n      >\n        {provided => (\n        <ul \n        className={this.state.className}\n        {...provided.draggableProps}\n        {...provided.dragHandleProps}\n        ref={provided.innerRef}\n        id={this.props.choiceFood.choice.id}\n        >\n          <li className='name'>\n            <span className='nameScroll'\n            >\n             {this.props.choiceFood.food.name}{this.props.choiceFood.food.brand ? ` - ${this.props.choiceFood.food.brand}` : null}\n            </span>\n          </li>\n          <li className='amount'>\n              <input type='number'\n              ref={(input) => { this.amountInput = input; }} \n              min='0'\n              name='amount'\n              value={this.props.choiceFood.choice.amount} \n              id={this.props.choiceFood.choice.id}\n              key={this.props.choiceFood.choice.id}\n              onChange={this.handleAmountChange} \n              onFocus={this.handleFocus}\n              onBlur={this.handleBlur}\n              >\n              </input>\n              </li>\n          <li className='measure'>\n              <select \n              className=''\n              value={this.props.choiceFood.choice.measure_id} \n              onChange={this.handleMeasureChange}\n              name='measure'\n              >\n                {this.generateMeasures()}\n              </select>\n            </li>\n          <li className='macro calories'>{this.autoUpdateMacro('calories')}</li>\n          <li className='macro fat'>{this.autoUpdateMacro('fat')}</li>\n          <li className='macro carbs'>{this.autoUpdateMacro('carbs')}</li>\n          <li className='macro protein'>{this.autoUpdateMacro('protein')}</li>\n          <li className='deleteColumn' ><button onClick={this.deleteChoice} className='deleteChoice deleteButton' alt='delete choice'><span className=\"icon deleteIcon\"/></button></li>\n        </ul>\n        \n        )}\n      </Draggable>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    deleteChoice: id => dispatch({ type: 'DELETE_CHOICE', payload: id}),\n    editChoice: info => dispatch({ type: 'EDIT_CHOICE', payload: info}),\n    updateChoice: info => dispatch(updateChoice(info)),\n    destroyChoice: info => dispatch(destroyChoice(info)),\n  }\n}\n\nexport default connect(null, mapDispatchToProps)(ChoiceCard)","import {URL, HEADERS} from '../constants'\n\nexport const updateChoice = (choiceObj) => {\n  return dispatch => {\n    return fetch(`${URL}choices/${choiceObj.id}`, {\n      method: 'PATCH',\n      headers: HEADERS(),\n      body: JSON.stringify({choice: choiceObj})\n    })\n  }\n}\n\nexport const destroyChoice = (id) => {\n  return dispatch => {\n    return fetch(`${URL}/choices/${id}`, {method: 'DELETE'})\n  }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport {Droppable} from 'react-beautiful-dnd'\nimport ChoiceCard from './ChoiceCard/ChoiceCard'\n\nconst CategoryCard = props => {\n\n  const mySortedChoices = () => {\n    const myChoices = props.choiceFoods.filter(choice => choice.choice.category_id === props.category.id)\n    return myChoices.sort((x, y) => x.choice.index - y.choice.index)\n  }\n\n  const autoSum = (macro) => {\n    let sum = 0\n    props.choiceFoods.filter(choiceFood => choiceFood.choice.category_id === props.category.id).forEach(choiceFood => {\n      // console.log(choiceFood)\n      // const measurement = ((choiceFood.choice.measure === 'grams') ? choiceFood.food.serving_grams : (choiceFood.food.serving_unit_amount || 1))\n      // sum += parseInt((choiceFood.food[macro] / measurement * choiceFood.choice.amount).toFixed(0))\n      const amount = choiceFood.choice.amount\n      const measure = choiceFood.measures.find(x => x.id === choiceFood.choice.measure_id)\n      const totalGrams = amount * measure.grams\n      const servingAmount = choiceFood.food.serving_grams\n      const measureAmount = measure.amount? measure.amount : 1\n      const servings = (totalGrams / servingAmount) / measureAmount\n      // console.log(sum)\n      sum += (choiceFood.food[macro] * servings)\n    })\n    return sum.toFixed()\n  }\n\n  return(\n    <Droppable droppableId={props.category.id}>\n    {(provided) => (\n      <div className='category'\n      ref={provided.innerRef}\n      {...provided.droppableProps}\n      >\n        <p className='name categoryName'>{props.category.name}</p>\n        {mySortedChoices().map((choiceFood, index) => < ChoiceCard //.sort((x, y) => x.id - y.id)\n        // animationEnd={console.log('END!')}\n        choiceFood={choiceFood} \n        key={choiceFood.choice.id} \n        index={index}\n        deleteChoice={props.deleteChoice} \n        /> )}\n        {provided.placeholder}\n        <ul\n        className=\"grid categoryGrid\"\n        >\n          <li className='name categoryName' ></li>\n          <li className='subtotals'>Subtotals: </li>\n          <li className='calories macro'>{autoSum('calories')}</li>\n          <li className='fat macro'>{autoSum('fat')}</li>\n          <li className='carbs macro'>{autoSum('carbs')}</li>\n          <li className='protein macro'>{autoSum('protein')}</li>\n          <li className='deleteColumn'></li>\n        </ul>\n      </div>\n    )}\n    \n  </Droppable>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {choiceFoods: state.choiceFoods}\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CategoryCard)","import {URL, HEADERS} from '../constants'\n\nexport const updateGoal = (goal) => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    dispatch({type: 'EDIT_GOAL', payload: goal})\n    return fetch(`${URL}/goals/${goal.id}`, {\n      method: 'PATCH', \n      headers: HEADERS(),\n      body: JSON.stringify({goal})\n    })\n    .then(r => dispatch({type: 'STOP_LOADING'}))\n  }\n}\n\nexport const createGoal = (info) => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/goals`, {\n      method: 'POST', \n      headers: HEADERS(),\n      body: JSON.stringify(info)\n    })\n    .then(r => r.json())\n    .then(goal => {\n      dispatch({type: 'STOP_LOADING'})\n      dispatch({type: 'ADD_GOAL', payload: goal})\n    })\n  }\n}\n\nexport const deleteGoal = id => {\n  return dispatch => {\n    return fetch(`${URL}/goals/${id}`, {method: 'DELETE', headers: HEADERS()})\n    .then(r => dispatch({type: 'DELETE_GOAL', payload: id}))\n  }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport {createGoal} from '../../../../actions/goalsActions'\n\nclass AutogenerateGoal extends React.Component {\n\n  state = {\n    showUserInfo: false,\n    feet: null,\n    inches: null,\n    weight: null,\n    bodyFat: null,\n    age: null,\n    gender: 50,\n    activityLevel: 1.2,\n    calorieGoalAdjuster: 1,\n    macroGoal: 'high protein - lift day',\n    fat: 40,\n    carbs: 30,\n    protein: 30,\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault()\n    let tdeeCals;\n    if (this.state.bodyFat) {\n      tdeeCals = (this.katchMcArdle() + this.mifflin()) / 2\n    }\n    else{\n      tdeeCals = this.mifflin()\n    }\n\n    tdeeCals = tdeeCals * parseFloat(this.state.calorieGoalAdjuster) //\n\n    let calorieGoalDescriptor\n    if(this.state.calorieGoalAdjuster > 1){calorieGoalDescriptor=\"gain weight\"}\n    else if(this.state.calorieGoalAdjuster < 1){calorieGoalDescriptor=\"lose weight\"}\n    else{calorieGoalDescriptor=\"maintain weight\"}\n    \n    this.props.createGoal({\n      calories: tdeeCals.toFixed(), \n      fat: ((tdeeCals * parseInt(this.state.fat)) / 900).toFixed(),\n      carbs: ((tdeeCals * parseInt(this.state.carbs)) / 400).toFixed(),\n      protein: ((tdeeCals * parseInt(this.state.protein)) / 400).toFixed(),\n      name: `${this.state.macroGoal} to ${calorieGoalDescriptor}`, \n      user_id: this.props.user.id,\n      day_id: this.props.day.id\n    })\n    this.props.toggleAutogenerate()\n  }\n\n  katchMcArdle = () => { // Katch-Mcardle formula and Harris Benedict Equation\n    const lbmPounds = this.state.weight - (this.state.weight * (this.state.bodyFat / 100))\n    const lbmKilos = lbmPounds / 2.2\n    const bmr = 370 + (21.6 * lbmKilos)\n    const cals = bmr * this.state.activityLevel\n    return cals\n  }\n\n  mifflin = () => {\n    const weightKG = this.state.weight / 2.2\n    const heightCM = (this.state.feet * 12 + parseInt(this.state.inches)) * 2.54\n    const ageCalc = (5 * this.state.age)\n    const genderCalc = (166 * (this.state.gender / 100) - 161)\n    const bmr = 10 * weightKG + 6.25 * heightCM - ageCalc + genderCalc\n    const cals = bmr * this.state.activityLevel\n    return cals\n  }\n\n  handleChange = e => {\n    this.setState({[e.target.name]: e.target.value})\n  }\n\n  activityLevelSelect = () => {\n    const levels = [\n      {name: \"0 times\", oldName: 'Sedentary - little or no exercise, desk job', multiplier: 1.2}, \n      {name: \"lightly 1 to 3 times\", oldName: 'lightly active - light exercise, sports 1-3 days a week', multiplier: 1.375}, \n      {name: \"moderately 3 to 5 times\", oldName: 'moderately active - moderate exercise, sports 3-5 days a week', multiplier: 1.55}, \n      {name: \"hard 6 to 7 times\", oldName: 'very active - hard exercise, sports 6-7 days a week', multiplier: 1.725}, \n      {name: \"extremely hard, at least every day\", oldName: 'extremely active - hard daily exercise, sports and physical job, or 2x a day exercise', multiplier: 1.9}]\n    return <select value={this.state.activityLevel} className='activityLevel' name='activityLevel' onChange={this.handleChange}>\n    {levels.map(opt => {\n        return <option name={opt.name} key={opt.name} value={opt.multiplier} >{opt.name}</option>\n      })}\n    </select>\n  }\n\n  calorieGoalAdjusterSelect = () => {\n    const calorieGoals = [\n      {name: \"gain weight: +5% calories\", multiplier: 1.05},\n      {name: \"maintain weight\", multiplier: 1},\n      {name: \"lose weight: -5% calories\", multiplier: 0.95},\n    ]\n    return <select value={this.state.calorieGoalAdjuster} name='calorieGoalAdjuster' onChange={this.handleChange}>\n      {calorieGoals.map(goal => <option name={goal.name} key={goal.name} value={goal.multiplier} id={goal.multiplier} >{goal.name}</option>)}\n    </select>\n  }\n\n  macroGoalsSelect = () => {\n    const macroGoals = [\n      {name: 'high protein - rest day', fat: 45, carbs: 20, protein: 35},\n      {name: 'high protein - lift day', fat: 40, carbs: 30, protein: 30},\n      {name: 'keto - low carb', fat: 60, carbs: 5, protein: 35},\n      {name: 'moderate-carb / paleo', fat: 40, carbs: 30, protein: 30},\n      {name: 'shipscale.com weightloss and muscle gain', fat: 35, carbs: 30, protein: 35},\n      {name: 'myFitnessPal', fat: 30, carbs: 50, protein: 20},\n      // {name: 'healthyeater.com', fat: 30, carbs: calc(), protein: 20},\n    ]\n    const selfchange = (e) => {\n      this.handleChange(e)\n      const goalProfile = macroGoals.filter(x=>x.name === e.target.value)[0]\n      this.setState({fat: goalProfile.fat, carbs: goalProfile.carbs, protein: goalProfile.protein})\n    }\n    return <select value={this.state.macroGoal} name='macroGoal' onChange={selfchange}>\n      {macroGoals.map(goal => <option name={goal.name} key={goal.name} value={goal.name}>{goal.name}</option>)}\n    </select>\n  }\n\n  render(){\n    return(\n      <div className='autogenerateMacros'>\n        <h2>Generate Macros</h2>\n        <button onClick={this.props.toggleAutogenerate}>close</button>\n        <form onSubmit={this.handleSubmit}>\n          <div><label>Height</label>\n          <span>\n            <input required type='number' min='1' max='7' placeholder='feet' name='feet' className='height' onChange={this.handleChange} ></input>\n            <input required type='number' min='0' max='11' placeholder='inches' name='inches' className='height' onChange={this.handleChange}></input>\n          </span></div>\n          <div><label>Weight (lbs)</label>\n          <input required type='number' min='1' max='1500' className='sensitive' placeholder='pounds' name='weight' onChange={this.handleChange}></input></div>\n          <div><label>Body Fat %</label>\n          <input type='number' min='2' max='90' className='sensitive' placeholder='(optional)' name='bodyFat' onChange={this.handleChange}></input></div>\n          <div><label>Age</label>\n          <input required type='number' min='18' max='130' pattern='[0-9]*' placeholder='age' name='age' onChange={this.handleChange}></input></div>\n          <label className='gender'>Gender</label>\n          <div><span className='gender'>\n            <label>female</label>\n            <input type='range' name='gender' onChange={this.handleChange}></input>\n            <label>male</label>\n          </span></div>\n          <div><label>exercise per week</label>\n          {this.activityLevelSelect()}</div>\n          <div>\n            <label>Calorie Goal</label>\n            {this.calorieGoalAdjusterSelect()}\n          </div>\n          <div>\n            <label>Macro Profile</label>\n            {this.macroGoalsSelect()}\n          </div>\n          <div>\n            <label>% calories from</label>\n            <label className='macrosForAutogenerate' >Fat</label>\n            <input className='macrosForAutogenerate' name='fat' type='number' value={this.state.fat} onChange={this.handleChange} />\n            <label className='macrosForAutogenerate' >carbs</label>\n            <input className='macrosForAutogenerate' name='carbs' type='number' value={this.state.carbs} onChange={this.handleChange} />\n            <label className='macrosForAutogenerate' >protein</label>\n            <input className='macrosForAutogenerate' name='protein' type='number' value={this.state.protein} onChange={this.handleChange} />\n          </div>\n          <div>\n            <label id='autoMacrosSum'>Total</label>\n            {parseInt(this.state.fat) + parseInt(this.state.carbs) + parseInt(this.state.protein)}%\n          </div>\n          <input type='submit' value='Generate Macros' />\n        </form>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user,\n    day: state.day\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return{\n    createGoal: (props) => dispatch(createGoal(props))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AutogenerateGoal)","import {URL, HEADERS} from '../constants'\n\nexport const createDay = () => {\n  return (dispatch) => {\n    // debugger\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/days`, {\n      method: 'POST', \n      headers: HEADERS(),\n      body: JSON.stringify({date: (new Date()).toLocaleString()})\n    })\n    .then(r => r.json())\n    .then(day => {\n      dispatch({type: 'STOP_LOADING'})\n      dispatch({ type: 'ADD_DAY', payload: day})\n    })\n  }\n}\n\nexport const selectDay = (id) => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/days/${id}`, {headers: HEADERS()})\n    .then(r => r.json())\n    .then(dayAndInfo => {\n      dispatch({type: 'STOP_LOADING'})\n      dispatch({ type: 'SELECT_DAY', payload: dayAndInfo})\n    })\n  }\n}\n\nexport const deleteDay = id => {\n  // debugger\n  return dispatch => {\n    dispatch({type: 'DELETE_DAY', payload: id})\n    return fetch(`${URL}/days/${id}`, {method: 'DELETE', headers: HEADERS()})\n  }\n}\n\nexport const updateDay = day => {\n  return dispatch => {\n    return fetch(`${URL}days/${day.id}`, {\n      method: 'PATCH',\n      headers: HEADERS(),\n      body: JSON.stringify(day)\n    })\n  }\n}\n\nexport const copyDay = id => {\n  return dispatch => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}days/copy/${id}`, {headers: HEADERS()})\n    .then(r => r.json())\n    .then(r => {\n      dispatch({type: 'STOP_LOADING'})\n      dispatch({ type: 'ADD_DAY', payload: r})\n      dispatch({ type: 'SELECT_DAY', payload: r})\n    })\n  }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport {createGoal, updateGoal, deleteGoal} from '../../../actions/goalsActions'\nimport AutogenerateGoal from './AutogenerateGoal/AutogenerateGoal'\nimport {updateDay} from '../../../actions/daysActions'\n\nclass GoalsRow extends React.Component {\n\n  state = {\n    showEditGoalForm: false\n  }\n\n  goalsSelector = () => {\n    const sortedGoals = this.props.goals.sort(function(a,b){\n      if (a.name.toLowerCase() > b.name.toLowerCase()){return 1}\n      if (a.name.toLowerCase() < b.name.toLowerCase()){return -1}\n      return 0\n    })\n    return <select value={this.props.goal.id} className='goalsSelect' onChange={this.changeGoal}>\n      {sortedGoals.map(goal => <option value={goal.id} key={goal.id}>{goal.name}</option>)}\n    </select>\n  }\n\n  changeGoal = (e) => {\n    this.props.changeGoal(e.target.value)\n    this.props.updateDay({id: this.props.day.id,goal_id: e.target.value})\n  }\n\n  addGoal = () => {\n    this.props.createGoal({\n      user_id: this.props.user.id,\n      day_id: this.props.day.id,\n      name: 'new goal',\n      calories: 1, fat: 1, carbs: 1, protein: 1\n    })\n    .then(this.editGoal)\n  }\n  \n  editGoal = () => {\n    this.setState({showEditGoalForm: true})\n  }\n\n  deleteGoal = () => {\n    if(this.props.goals.length > 1){\n      this.props.deleteGoal(this.props.goal.id)\n    }\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.setState({showEditGoalForm: false})\n    this.props.updateGoal(this.props.goal)\n  }\n\n  handleChange = (e) => {\n    // debugger\n    if(e.target.name === \"calories\"){\n      this.props.editGoal({[e.target.name]: e.target.value})\n    }else{\n      const goal = {...this.props.goal, [e.target.name]: e.target.value}\n      this.props.editGoal({[e.target.name]: e.target.value, calories: parseInt(goal.fat)*9 + parseInt(goal.carbs)*4 + parseInt(goal.protein)*4})\n    }\n  }\n\n  toggleAutogenerate = () => {this.setState({showAutogenerateForm: !this.state.showAutogenerateForm})}\n\n  render(){\n    return(\n      <>\n      {\n      this.state.showEditGoalForm\n      ?\n      <form className='grid goals' onSubmit={this.handleSubmit}>\n        <li className='goalsTitle'><div>Edit Goal:</div></li>\n        <li className='goalsSelect'>\n          <div><input type='text' name='name' placeholder='name' defaultValue={this.props.goal.name} value={this.state.name} onChange={this.handleChange} /></div>\n        </li>\n        <li className='macro calories' ><div><input value={this.props.goal.calories} className='readonly' readonly/></div></li>\n        <li className='macro fat' ><div><input type='number' name='fat' min='0' placeholder='grams' value={this.props.goal.fat} onChange={this.handleChange} /></div></li>\n        <li className='macro carbs' ><div><input type='number' name='carbs' min='0' placeholder='grams' value={this.props.goal.carbs} onChange={this.handleChange} /></div></li>\n        <li className='macro protein' ><div><input type='number' name='protein' min='0' placeholder='grams' value={this.props.goal.protein} onChange={this.handleChange} /></div></li>\n        <li className='submitGoal'><input className='submitGoal' type='submit' value=''/></li>\n      </form>\n      :\n      <ul className='grid goals'>\n        <li className='goalsTitle'><div>Goals:</div></li>\n        <li className='goalsSelect'><div>{this.goalsSelector()}</div></li>\n        <li className='macro calories' ><div>{this.props.goal.calories}</div></li>\n        <li className='macro fat' ><div>{this.props.goal.fat}</div></li>\n        <li className='macro carbs' ><div>{this.props.goal.carbs}</div></li>\n        <li className='macro protein' ><div>{this.props.goal.protein}</div></li>\n        <span className='dropdown'>\n          <span className='dots'><span/><span/><span/></span>\n          <ul className='dropdown-content'>\n            <li onClick={this.addGoal}><button><span className=\"icon addIcon\"/></button>Add Goal</li>\n            <li onClick={this.editGoal}><button><span className=\"icon editIcon\"/></button>Edit Goal</li>\n            {this.props.goals.length > 1 ?\n            <li onClick={this.deleteGoal}><button><span className=\"icon deleteIcon\"/></button>Delete Goal</li>\n            : null}\n            <li onClick={this.toggleAutogenerate}><button><span className='icon autogenerateIcon'/></button>Autogenerate Goal</li>\n          </ul>\n        </span>\n      </ul>\n      }\n    <div \n      style={{display: this.state.showAutogenerateForm ? 'block' : 'none'}}\n      >\n      < AutogenerateGoal toggleAutogenerate={this.toggleAutogenerate}/>\n    </div>\n    </>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    changeGoal: (id) => dispatch({ type: 'CHANGE_GOAL', payload: id}),\n    updateGoal: (goal) => dispatch(updateGoal(goal)),\n    createGoal: (userId) => dispatch(createGoal(userId)),\n    deleteGoal: id => dispatch(deleteGoal(id)),\n    editGoal: info => dispatch({ type: 'EDIT_GOAL', payload: info}),\n    updateDay: info => dispatch(updateDay(info))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GoalsRow)","import {URL, HEADERS} from '../constants'\n\nexport const saveAll = (state) => {\n  return (dispatch) => {\n    // dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/saveall`, {\n      method: 'PATCH',\n      headers: HEADERS(),\n      body: JSON.stringify(state)\n    })\n    // .then(r => dispatch({type: 'STOP_LOADING'}))\n  }\n}\n","import React from 'react'\nimport './Table.scss';\nimport {connect} from 'react-redux'\nimport CategoryCard from './CategoryCard/CategoryCard'\nimport GoalsRow from './GoalsRow/GoalsRow'\nimport {updateGoal} from '../../actions/goalsActions'\nimport {createGoal} from '../../actions/goalsActions'\nimport {saveAll} from '../../actions/saveAllAction'\nimport {deleteGoal} from '../../actions/goalsActions'\n\nconst ChoiceContainer = props => {\n\n  const autoSum = (macro) => {\n    let sum = 0.0\n    props.choiceFoods.forEach(choiceFood => {\n      // console.log(choiceFood)\n      // const measurement = ((choiceFood.choice.measure === 'grams') ? choiceFood.food.serving_grams : (choiceFood.food.serving_unit_amount || 1))\n      // sum += parseInt((choiceFood.food[macro] / measurement * choiceFood.choice.amount).toFixed(0))\n      const amount = choiceFood.choice.amount || 0\n      const measure = choiceFood.measures.find(x => x.id === choiceFood.choice.measure_id)\n      const totalGrams = amount * measure.grams\n      const servingGrams = choiceFood.food.serving_grams\n      const measureAmount = measure.amount ? measure.amount : 1\n      const servings = (totalGrams / servingGrams) / measureAmount\n      sum += choiceFood.food[macro] * servings\n    })\n    return sum.toFixed() ///////////////////////////////////\n  }\n\n  const keyRow = \n    <ul className='grid key'>\n      <li className='name'><div>Name</div></li>\n      <li className='amount'><div>Amount</div></li>\n      <li className='measure' ><div>Measure</div></li>\n      <li className='macro calories' ><div>Calories</div></li>\n      <li className='macro fat' ><div>Fat</div></li>\n      <li className='macro carbs' ><div>Carbs</div></li>\n      <li className='macro protein' ><div>Protein</div></li>\n      <li className='deleteColumn'></li>\n    </ul>\n  \n  const compareForStyle = (macro) =>{\n    // debugger\n    if (!props.user.email){return null}\n    if (autoSum(macro) < props.goal[macro] - 5) {\n      return 'under'\n    }else if(autoSum(macro) > props.goal[macro] + 5) {\n      return 'over'\n    }else{return 'good'}\n  }\n\n  const totalsRow = () => {\n    return  <ul className='grid totalsRow'>\n      <li className='totals'><span>TOTALS:</span></li>\n      <li className={`calories macro`} placeholder='grams'>{autoSum('calories')}</li>\n      <li className={`fat macro ${compareForStyle('fat')}`}>{autoSum('fat')}</li>\n      <li className={`carbs macro ${compareForStyle('carbs')}`}>{autoSum('carbs')}</li>\n      <li className={`protein macro ${compareForStyle('protein')}`}>{autoSum('protein')}</li>\n      <li className='deleteColumn'></li>\n    </ul>\n  }\n\n  const macrosLeftRow = () => {\n    if(localStorage.getItem('token')){\n      return  <ul className='grid totalsRow'>\n        <li className='totals'><span>remaining:</span></li>\n        <li className={`calories macro`} placeholder='grams'>{(props.goal.calories - autoSum('calories')) || 0}</li>\n        <li className={`fat macro ${compareForStyle('fat')}`}>{(props.goal.fat - autoSum('fat')) || 0}</li>\n        <li className={`carbs macro ${compareForStyle('carbs')}`}>{(props.goal.carbs - autoSum('carbs')) || 0}</li>\n        <li className={`protein macro ${compareForStyle('protein')}`}>{(props.goal.protein - autoSum('protein')) || 0}</li>\n        <li className='deleteColumn'></li>\n      </ul>\n    }\n  }\n\n  return(\n    <div className='table'>\n      <div className={`loading ${props.loading}`}><span>checking for updates</span></div>\n      {localStorage.getItem('token') ? < GoalsRow /> : \n        <div className='welcome'>\n        <h1>WELCOME TO HAM</h1>\n        <h2>a simple macronutrient tracker</h2>\n        <hr/>\n        </div>\n      }\n      {totalsRow()}\n      {macrosLeftRow()}\n      {keyRow}\n      <div className='categoryScrollContainer'>\n        {props.categories.sort((x, y) => x.index - y.index).map(category => {\n          return <CategoryCard category={category} key={category.id} />\n        })}\n      </div>\n    </div>\n  ) \n  \n}\n\nconst mapStateToProps = (state) => { // LIMIT TO WHAT THIS COMPONENT IS USING!\n  // console.log('Choice Container state to props', state)\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addChoices: (choices) => dispatch({ type: 'ADD_CHOICES', payload: choices}),\n    selectUser: (user) => dispatch({ type: 'SELECT_USER', payload: user}),\n    editGoal: (info) => dispatch({ type: 'EDIT_GOAL', payload: info}),\n    changeGoal: (id) => dispatch({ type: 'CHANGE_GOAL', payload: id}),\n    updateGoal: (goal) => dispatch(updateGoal(goal)),\n    createGoal: (state) => dispatch(createGoal(state)),\n    saveAll: (state) => dispatch(saveAll(state)),\n    editGoalName: (name) => dispatch({ type: 'EDIT_GOAL_NAME', payload: name}),\n    deleteGoal: id => dispatch(deleteGoal(id))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChoiceContainer)","import {URL, HEADERS} from '../constants'\n\nexport const auth = (info) => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/auth`, {\n      method: 'POST',\n      headers: HEADERS(),\n      body: JSON.stringify({\n        user: {...info}\n      })\n    })\n  }\n}\n\nexport const reauth = () => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/reauth`, {\n      method: 'POST',\n      headers: HEADERS()\n    })\n    .then(response => {\n      return response.json()\n    })\n    .then(jwtAndUser => {\n      // console.log(jwtAndUser)\n      dispatch({type: 'STOP_LOADING'})\n      if (jwtAndUser.user && jwtAndUser.jwt) {\n        // console.log(jwtAndUser)\n        dispatch({ type: 'SELECT_USER', payload: jwtAndUser})\n      }\n    })\n  }\n}","import React from 'react'\nimport {createFood} from '../../../../actions/foodsActions'\nimport {connect} from 'react-redux'\n\nclass MakeFoodCard extends React.Component {\n\n  state = {\n    name: '',\n    brand: '',\n    serving_unit_amount: '',\n    serving_unit_name: '',\n    serving_grams: '',\n    calories: '',\n    fat: '',\n    carbs: '',\n    protein: '',\n    cholesterol: '',\n    dietary_fiber: '',\n    potassium: '',\n    saturated_fat: '',\n    sodium: '',\n    sugars: '',\n    unit_size: '',\n    upc: '',\n    error: ''\n  }\n\n  handleChange = (e) => {\n    // console.log(e.target.name, e.target.value)\n    this.setState({[e.target.name]: e.target.value})\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    const s = this.state\n    if (s.name && s.serving_unit_amount && s.serving_unit_name && s.serving_grams && s.calories && s.fat && s.carbs && s.protein) {\n      this.props.createFood({...this.state, categoryId: this.props.categoryId, dayId: this.props.day.id})\n      this.props.toggleNewFoodForm()\n      this.setState({\n        name: '',\n        brand: '',\n        serving_unit_amount: '',\n        serving_unit_name: '',\n        serving_grams: '',\n        calories: '',\n        fat: '',\n        carbs: '',\n        protein: '',\n        cholesterol: '',\n        dietary_fiber: '',\n        potassium: '',\n        saturated_fat: '',\n        sodium: '',\n        sugars: '',\n        unit_size: '',\n        upc: ''\n      })\n    }else{\n      this.setState({error: 'Please fill required fields'})\n    }\n  }\n\n  render(){\n    return(\n      <div className='createFoodContainer' style={{display: this.props.showNewFoodForm ? 'block' : 'none'}}>\n      <button className='closeButton' onClick={this.props.toggleNewFoodForm}>Close</button>\n      <form onSubmit={this.handleSubmit} className='foodForm'>\n        {this.state.error ? <p className='errorMessage'>{this.state.error}</p> : null }\n        <ul className='newFoodGrid'>\n          <li>\n          <label>Food name</label>\n          <input type='text' value={this.state.name} onChange={this.handleChange} name='name' placeholder='Food name' />\n          </li>\n          <li>\n          <label>Brand (optional)</label>\n          <input type='text' value={this.state.brand} onChange={this.handleChange} name='brand' placeholder='food brand (optional)' />\n          </li>\n          <li>\n          <label>Serving Amount</label>\n          <input type='number' step=\"any\" min='0.1' value={this.state.serving_unit_amount} onChange={this.handleChange} name='serving_unit_amount' placeholder='serving amount' />\n          </li>\n          <li>\n            <label>Serving Unit</label>\n            <input type=\"text\" list=\"units\" name='serving_unit_name' value={this.state.serving_unit_name} onChange={this.handleChange} placeholder=\"unit\"/>\n            <datalist id='units'>\n              {['unit','tbsp','tsp','cup','package','piece', 'small', 'medium', 'large'].map(measure => {\n                return <option value={measure} key={measure} name='measure' >{measure} </option>}\n              )}\n            </datalist>\n          </li>\n          <li>\n            <label>Serving in Grams</label>\n            <input type='number' step=\"any\" min='0.1' value={this.state.serving_grams} onChange={this.handleChange} name='serving_grams' placeholder='grams/serving' />\n          </li>\n          {/* <li></li> */}\n          <li>\n            <label>Calories</label>\n            <input type='number' step=\"any\" min='0' value={this.state.calories} onChange={this.handleChange} name='calories' placeholder='Calories' />\n          </li>\n          <li>\n            <label>Fat</label>\n            <input type='number' step=\"any\" min='0' value={this.state.fat} onChange={this.handleChange} name='fat' placeholder='fat' />\n          </li>\n          <li>\n            <label>Carbs</label>\n            <input type='number' step=\"any\" min='0' value={this.state.carbs} onChange={this.handleChange} name='carbs' placeholder='carbs' />\n          </li>\n          <li>\n            <label>Protein</label>\n            <input type='number' step=\"any\" min='0' value={this.state.protein} onChange={this.handleChange} name='protein' placeholder='protein' />\n          </li>\n          <li>\n            <input type='submit' />\n          </li>\n        </ul>\n        <div onClick={() => this.setState({moreInfoForm: !this.state.moreInfoForm})} className='showMore'>\n          {this.state.moreInfoForm ? ' Show Less Info (Optional) ' : ' Add More Info (Optional) '}\n        </div>\n        <ul className='newFoodGrid' style={{display: this.state.moreInfoForm ? 'grid' : 'none'}}>\n          <li>\n            <label>Saturated Fat</label>\n            <input type='number' step=\"any\" min='0' value={this.state.saturated_fat} onChange={this.handleChange} name='saturated_fat' placeholder='saturated fat' />\n          </li>\n          <li>\n            <label>Sugars</label>\n            <input type='number' step=\"any\" min='0' value={this.state.sugars} onChange={this.handleChange} name='sugars' placeholder='sugars' />\n          </li>\n          <li>\n            <label>Dietary Fiber</label>\n            <input type='number' step=\"any\" min='0' value={this.state.dietary_fiber} onChange={this.handleChange} name='dietary_fiber' placeholder='dietary fiber' />\n          </li>\n          <li>\n            <label>Sodium</label>\n            <input type='number' step=\"any\" min='0' value={this.state.sodium} onChange={this.handleChange} name='sodium' placeholder='sodium' />\n          </li>\n          <li>\n            <label>Cholesterol</label>\n            <input type='number' step=\"any\" min='0' value={this.state.cholesterol} onChange={this.handleChange} name='cholesterol' placeholder='cholesterol' />\n          </li>\n          <li>\n            <label>Potassium</label>\n            <input type='number' step=\"any\" min='0' value={this.state.potassium} onChange={this.handleChange} name='potassium' placeholder='potassium' />\n          </li>\n          <li>\n            <label>Unit Size</label>\n            <input type='number' step=\"any\" min='0' value={this.state.unit_size} onChange={this.handleChange} name='unit_size' placeholder='unit size' />\n          </li>\n          <li>\n            <label>Bar Code / UPC</label>\n            <input type='number' step=\"any\" min='0' value={this.state.upc} onChange={this.handleChange} name='upc' placeholder='UPC code' />\n          </li>\n          <li></li>\n          <li>\n            <input type='submit' />\n          </li>\n        </ul>\n      </form>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    day:state.day\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    createFood: (food) => dispatch(createFood(food))\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MakeFoodCard)","import React from 'react'\nimport './styles.scss';\nimport { connect } from 'react-redux'\nimport {reauth} from '../../../actions/authActions'\nimport {createDay, selectDay, updateDay, deleteDay, copyDay} from '../../../actions/daysActions'\nimport {saveAll} from '../../../actions/saveAllAction'\nimport MakeFoodCard from './MakeFoodCard/MakeFoodCard'\nimport { ButtonWithVerify } from '../../ButtonWithVerify/ButtonWithVerify';\n\nclass SignedInHeader extends React.Component {\n\n  state = {\n    username: '',\n    email: '',\n    usernameOrEmail: '',\n    password: '',\n    signup: false,\n    name: null,\n    date: null,\n    editDay: false\n  }\n\n  handleSignOut = () => {\n    this.setState({\n      username: '',\n      email: '',\n      usernameOrEmail: '',\n      password: '',\n      signup: false,\n      name: null,\n      date: null,\n      editDay: false\n    })\n    localStorage.removeItem('token');\n    this.props.signOut()\n  }\n\n  prettyDayDisplay = (dayObj) => {\n    const day = dayObj.date\n    // console.log(dayObj.date)\n    // debugger\n    // const day = new Date(dayObj.date)\n    // let year = day.getFullYear();\n    // year = year.toString().substr(2,2);\n    // return `${day.getMonth() + 1}-${day.getDate() + 1}-${year}` + (dayObj.name ? ` ${dayObj.name}` : '' )\n    return `${day.slice(5,7)}-${day.slice(8,10)}-${day.slice(2,4)}` + (dayObj.name ? ` ${dayObj.name}` : '' )\n  }\n\n  dayOptions = () => {\n    // const days = this.props.days.filter(day => day.id !== this.props.day.id)\n    const days = this.props.days.sort((x, y) => new Date(y.date) - new Date(x.date))\n    return days.map(day => {\n      return <option value={day.id} key={day.id} >{this.prettyDayDisplay(day)}</option>\n    })\n  }\n  \n  editDay = () => {\n    this.setState({editDay: true})\n  }\n\n  handleDayFormChange = (e) => {\n    this.setState({[e.target.name]: e.target.value})\n  }\n\n  updateDay = (e) => {\n    e.preventDefault()\n    this.setState({editDay: false, name: null, date: null})\n    if ((this.state.name !== this.props.day.name) || (this.state.date && this.state.date !== this.props.day.date)) {\n      const day = {...this.props.day, name: this.state.name || this.props.day.name, date: this.state.date || this.props.day.date }\n      this.props.editDay(day)\n      this.props.updateDay(day)\n    }\n  }\n\n  dayChangeHandler = e => {\n    // this.props.saveAll(this.props) // doesn't work?\n    this.props.selectDay(e.target.value)\n  }\n\n  todaysDate = () => {\n    const date = new Date()\n    const year = date.getFullYear()\n    let month = date.getMonth() + 1\n    let day = date.getDate()\n    if (month < 10) {month = `0${month}`}\n    if (day < 10) {day = `0${day}`}\n    return `${year}-${month}-${day}`\n  }\n\n  deleteDay = () => {\n    if (this.props.days.length > 1 && window.confirm('Are you sure you want to delete this day?')) {\n      const anotherDay = this.props.days.filter(x => x.id !== this.props.day.id)[0]\n      this.props.selectDay(anotherDay.id)\n      this.props.deleteDay(this.props.day.id)\n    }\n  }\n\n  toggleNewFoodForm = () => {\n    this.setState({showNewFoodForm: !this.state.showNewFoodForm})\n  }\n\n  copyDay = () => {\n    this.props.copyDay(this.props.day.id)\n  }\n\n  hideMenu = () => {\n    this.checkbox.checked = false\n  }\n\n  render(){\n    // console.log(this.props.days)\n    return(\n      <div className='header'>\n        <div className='menu' onBlur={this.hideMenu}>\n          <input type=\"checkbox\" className=\"menuCheckbox\" ref={input => this.checkbox = input} />\n          <div className='menuButton'><span/><span/><span/></div>\n          <div className='sideMenu'>\n            <ul className='menuItems'>\n              <h1>{this.props.user.username}</h1>\n              <li onClick={this.toggleNewFoodForm} className=\"clickable\">Create Your Own Food</li>\n              < MakeFoodCard showNewFoodForm={this.state.showNewFoodForm} toggleNewFoodForm={this.toggleNewFoodForm} categoryId={this.props.categories[0].id} />\n              <li className='contact clickable'><a href='mailto:ham.macros@gmail.com'>Contact</a></li>\n              <li className='signOut clickable' onClick={this.handleSignOut}>Sign Out</li>\n            </ul>\n          </div>\n        </div>\n        <div className='daySelect'>\n          {this.state.editDay\n          ?\n          <form className='dayEdit' onSubmit={this.updateDay}>\n            <input type='text' name='name' placeholder='name' defaultValue={this.props.day.name} value={this.state.name} onChange={this.handleDayFormChange} />\n            <input type='date' name='date' placeholder='date' defaultValue={this.props.day.date} value={this.state.date} onChange={this.handleDayFormChange} />\n            <input type='submit' value=''/>\n          </form>\n          :\n          <span className='daySelect'>\n            <select onChange={this.dayChangeHandler} value={this.props.day.id} className='daySelect'>\n              {this.dayOptions()}\n            </select>\n            <span className=\"dropdown\">\n              <span className='dots'><span/><span/><span/></span>\n              <ul className='dropdown-content'>\n                <li onClick={this.props.createDay}><button><span className=\"icon addIcon\"/></button>Add Day</li>\n                <li onClick={this.editDay}><button><span className=\"icon editIcon\"/></button>Edit Day</li>\n                <li onClick={this.copyDay}><button className='copyButton'><span className='copy'></span></button>Copy Day</li>\n                {this.props.days.length > 1 ?\n                <li onClick={this.deleteDay}><button><span className=\"icon deleteIcon\"/></button>Delete Day</li>\n                : null}\n              </ul>\n            </span>\n          </span>\n          }\n        </div>\n        <div className='appName'>\n          <h1 className='appName'>HAM</h1>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return{\n    signOut: () => dispatch({ type: 'SIGN_OUT'}),\n    editDay: (day) => dispatch({type: 'EDIT_DAY', payload: day}),\n    updateDay: day => dispatch(updateDay(day)),\n    reauth: () => dispatch(reauth()),\n    createDay: () => dispatch(createDay()),\n    selectDay: (id) => dispatch(selectDay(id)),\n    saveAll: (state) => dispatch(saveAll(state)),\n    startLoading: () => dispatch({type: 'START_LOADING'}),\n    stopLoading: () => dispatch({type: 'STOP_LOADING'}),\n    deleteDay: (id) => dispatch(deleteDay(id)),\n    copyDay: (id) => dispatch(copyDay(id))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignedInHeader)","import React from 'react'\nimport {connect} from 'react-redux'\nimport '../../../../constants.js'\nimport {auth} from '../../../../actions/authActions'\nimport {forgotPassword} from '../../../../actions/passwordActions'\n\nclass LoginCard extends React.Component {\n\n  state = {\n    usernameOrEmail: '',\n    password: '',\n    error: ''\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    if (this.props.showSignup){this.props.toggleSignup(e)}\n    if (this.state.password) {\n      this.props.startLoading()\n      this.props.auth({username_or_email: this.state.usernameOrEmail.toLowerCase(), password: this.state.password})\n      .then(response => {\n        return response.json()\n      })\n      .then(response => {\n        // console.log(jwtAndUser)\n        this.props.stopLoading()\n        if (response.user && response.jwt) {\n          localStorage.setItem('token', response.jwt)\n          this.props.selectUser(response)\n        }\n        else {\n          this.setState({error: response.message})\n        }\n      })\n    }\n  }\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value})\n  }\n\n  forgotPassword = () => {\n    this.setState({error: ''})\n    if(this.state.usernameOrEmail.match(/.+@.+\\..+/)){\n      this.props.startLoading()\n      this.props.forgotPassword(this.state.usernameOrEmail)\n      .then(r => r.json())\n      .then(r => this.setState({error: r.error}))\n      this.props.stopLoading()\n      // this.setState({error: `Email sent to ${this.state.usernameOrEmail}`})\n    }else{\n      this.setState({error: 'Please enter a valid email address'})\n    }\n  }\n\n  render(){\n    return(\n      <>\n      <form className='login' onSubmit={this.handleSubmit}>\n        <h1>Login</h1>\n        <input autoComplete=\"true\" value={this.state.usernameOrEmail} name='usernameOrEmail' id='usernameOrEmail' onChange={this.handleChange} type='text' placeholder='Username/Email' />\n        <input autoComplete=\"true\" value={this.state.password} name='password' onChange={this.handleChange} type='password' placeholder='Password' />\n        <div onClick={this.forgotPassword}>Forgot Password?</div>\n        <input value='Log In' type='submit' className='standardButton' />\n        {/* <button onClick={this.props.toggleSignup} className='standardButton'>{this.props.showSignup ? 'Close Sign Up': 'Sign Up'}</button> */}\n        {this.state.error ? <p className='errorMessage'>{this.state.error}</p> : null }\n      </form>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    selectUser: (user) => dispatch({ type: 'SELECT_USER', payload: user}),\n    startLoading: () => dispatch({type: 'START_LOADING'}),\n    stopLoading: () => dispatch({type: 'STOP_LOADING'}),\n    auth: (info) => dispatch(auth(info)),\n    forgotPassword: (email) => dispatch(forgotPassword(email))\n  }\n}\n\nexport default connect(null, mapDispatchToProps)(LoginCard)","import {URL, HEADERS} from '../constants'\n\nexport const forgotPassword = (email) => {\n  return (dispatch) => {\n    return fetch(`${URL}/password/forgot`, {\n      method: 'POST',\n      headers: HEADERS(),\n      body: JSON.stringify({\n        email: email\n      })\n    })\n  }\n}\n\nexport const resetPassword = (user) => {\n  return (dispatch) => {\n    return fetch(`${URL}/password/reset`, {\n      method: 'POST',\n      headers: HEADERS(),\n      body: JSON.stringify({\n        user: user\n      })\n    })\n  }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport '../../../../constants.js'\nimport {createUser} from '../../../../actions/usersActions'\n\nclass SignUpCard extends React.Component {\n\n  state = {\n    username: '',\n    email: '',\n    password: '',\n    password2: '',\n    error: ''\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if (!this.state.password || !this.state.username || !this.state.email) {\n      this.setState({error: 'Username, email, and password required'})\n    }\n    // else if (!(/\\w+@\\w+\\.\\w+/).test(this.state.email)) {\n    //   this.setState({error: 'Email is invalid'})\n    // }\n    else if (this.state.password !== this.state.password2){\n      this.setState({error: 'Passwords must match'})\n    }\n    else if (this.state.password.length < 6){\n      this.setState({error: 'Password must be at least 6 characters'})\n    }\n    else{\n      this.props.createUser(this.state)\n      .then(resp => {\n        this.props.stopLoading()\n        if (resp.user && resp.jwt) {\n          localStorage.setItem('token', resp.jwt)\n          this.props.selectUser(resp)\n        }else if(resp.error){\n          this.setState({error: resp.error})\n          // debugger\n        }\n      })\n    }\n  }\n\n  handleSignupClick = () => {\n    if (this.state.signup){\n      this.signup()\n      this.setState({\n        password: ''\n      })\n    }else{\n      this.setState({signup: true})\n    }\n  }\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value})\n  }\n\n  render(){\n    return(\n      // <div className='modal' style={{display: `${ this.props.showSignup && !this.props.user.email ? 'block' : 'none'}`}}>\n      <form onSubmit={this.handleSubmit} className='signupForm'>\n        <h1>Sign Up</h1>\n        <li>\n        <label>Username</label><br/>\n        <input required value={this.state.username} name='username' onChange={this.handleChange} type='text' placeholder='username' />\n        </li>\n        <li>\n          <label>Email</label><br/>\n          <input required value={this.state.email} name='email' onChange={this.handleChange} type='email' placeholder='email' />\n        </li>\n        <li>\n          <label>Password</label><br/>\n          <input required value={this.state.password} minLength='6' name='password' onChange={this.handleChange} type='password' placeholder='6 characters'/>\n        </li>\n        <li>\n          <label>Password</label><br/>\n          <input required value={this.state.password2} minLength='6' name='password2' onChange={this.handleChange} type='password' placeholder='confirm'/>\n        </li>\n        <li>\n          <input value='Sign Up' type='submit'/>\n        </li>\n        {this.state.error ? <p className='errorMessage'>{this.state.error}</p> : null }\n      </form>\n      // </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    selectUser: (user) => dispatch({ type: 'SELECT_USER', payload: user}),\n    createUser: user => dispatch(createUser(user)),\n    stopLoading: () => dispatch({type: 'STOP_LOADING'})\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUpCard)","import {URL, HEADERS} from '../constants'\n\nexport const createUser = (user) => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/users`, {\n      method: 'POST', \n      headers: HEADERS(),\n      body: JSON.stringify({\n        user: user\n      })\n    })\n    .then(r => r.json())\n  }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport '../../../../constants.js'\nimport {resetPassword} from '../../../../actions/passwordActions'\n\nclass SignUpCard extends React.Component {\n\n  state = {\n    email: this.props.email,\n    password: '',\n    password2: '',\n    token: this.props.token,\n    error: ''\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if (!this.state.password || !this.state.email) {\n      this.setState({error: 'Username, email, and password required'})\n    }\n    // else if (!(/\\w+@\\w+\\.\\w+/).test(this.state.email)) {\n    //   this.setState({error: 'Email is invalid'})\n    // }\n    else if (this.state.password !== this.state.password2){\n      this.setState({error: 'Passwords must match'})\n    }\n    else if (this.state.password.length < 6){\n      this.setState({error: 'Password must be at least 6 characters'})\n    }\n    else{\n      this.props.resetPassword(this.state)\n      .then(resp => {\n        // debugger\n        switch(resp.status){\n          case 200:\n            this.setState({error: \"Successful! Please Sign In\"})\n            break;\n          case 422:\n            this.setState({error: \"Something went wrong\"})\n            break;\n          case 412:\n            this.setState({error: \"Link expired or incorrect\"})\n            break;\n          case 404:\n            this.setState({error: \"Email does not match\"})\n            break;\n          default:\n            this.setState({error: \"Are you trying to hack this app right now?\"})\n            break;\n        }\n      })\n    }\n  }\n\n  handleSignupClick = () => {\n    if (this.state.signup){\n      this.signup()\n      this.setState({\n        password: ''\n      })\n    }else{\n      this.setState({signup: true})\n    }\n  }\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value})\n  }\n\n  render(){\n    return(\n      <div className=\"password-reset-background\">\n      <div className='password-reset'>\n      <button onClick={this.props.closeResetPassword} style={{position:\"absolute\",right:\"0px\"}}>X</button>\n      <h2 style={{textAlign:\"center\"}}>RESET PASSWORD</h2>\n      <form onSubmit={this.handleSubmit} className='signupForm'>\n        <li>\n          <label>Email</label><br/>\n          <input required autoComplete=\"true\" value={this.state.email} name='email' onChange={this.handleChange} type='email' placeholder='email' />\n        </li>\n        <li>\n          <label>Password</label><br/>\n          <input required autoComplete=\"false\" value={this.state.password} minLength='6' name='password' onChange={this.handleChange} type='password' placeholder='6 characters'/>\n        </li>\n        <li>\n          <label>Repeat Password</label><br/>\n          <input required autoComplete=\"false\" value={this.state.password2} minLength='6' name='password2' onChange={this.handleChange} type='password' placeholder='confirm'/>\n        </li>\n        <li>\n          <input value='Reset Password' type='submit'/>\n        </li>\n        {this.state.error ? <p style={{color:\"red\",textAlign:\"center\",fontWeight:\"bold\"}}>{this.state.error}</p> : null }\n      </form>\n      </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    resetPassword: user => dispatch(resetPassword(user)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUpCard)","import React from 'react'\nimport { connect } from 'react-redux'\nimport LoginCard from './LoginCard/LoginCard'\nimport SignUpCard from './SignUpCard/SignUpCard'\nimport ResetPasswordCard from './ResetPasswordCard/ResetPasswordCard'\nimport {reauth} from '../../../actions/authActions'\nimport {saveAll} from '../../../actions/saveAllAction'\n\nclass NotSignedInHeader extends React.Component {\n\n  state = {\n    email: '',\n    signup: false,\n    showSignup: false,\n    showPasswordReset: false,\n    token: '',\n    showAuth: false\n  }\n\n  componentDidMount(){\n    if (localStorage.getItem('token')){this.props.reauth()} // thunk\n    let params = window.location.search\n    if (params.includes('token') && params.includes(\"email\")){\n      params = params.split(/(\\?token=|&email=)/)\n      const token = params[2]\n      const email = decodeURIComponent(params[4])\n      this.setState({showPasswordReset: true, email: email, token: token})\n    }\n  }\n\n  handleSignOut = () => {\n    this.setState({\n      email: '',\n      signup: false,\n      showSignup: false,\n      showPasswordReset: false,\n      token: '',\n      showAuth: false\n    })\n    localStorage.removeItem('token');\n    this.props.signOut()\n  }\n\n  toggleSignup = (e) => {\n    e.preventDefault()\n    this.setState({showSignup: !this.state.showSignup})\n  }\n\n  signedIn = () => {\n    return !!this.props.user.email\n  }\n\n  closeResetPassword = () => {this.setState({showPasswordReset: false})}\n\n  toggleShowAuth = () => this.setState({showAuth: !this.state.showAuth})\n\n  render(){\n    return(\n      <div className='notSignedInHeader'>\n        <div className='notSignedInMessage'><p>Use HAM free. Log in to record data</p></div>\n        <div className='login'>\n          <button onClick={()=>this.setState({showAuth:true})} className=\"loginSignupButton\">Login<br/>Sign Up</button>\n          {this.state.showAuth ? \n            <div className=\"authModalBackground\">\n              <div className=\"authModal\">\n                <div className=\"closeAndSwitchButtons\">\n                  <button onClick={()=>this.setState({showSignup:false})} disabled={!this.state.showSignup} >Log In</button>\n                  <button onClick={()=>this.setState({showSignup:true})} disabled={this.state.showSignup} >Sign Up</button>\n                  <button className=\"authModalButton\" onClick={()=>this.setState({showAuth:false})}>X</button>\n                </div>\n                <div className={`loginOrSignup ${this.state.showSignup ? 'showSignup' : null}`}>\n                  < LoginCard />\n                  < SignUpCard />\n                </div>\n              </div>\n            </div>\n            :\n            null\n          }\n          {this.state.showPasswordReset? < ResetPasswordCard closePasswordReset={this.toggleSignup} email={this.state.email} token={this.state.token} closeResetPassword={this.closeResetPassword} /> : null }\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return{\n    signOut: () => dispatch({ type: 'SIGN_OUT'}),\n    reauth: () => dispatch(reauth()),\n    saveAll: (state) => dispatch(saveAll(state)),\n    startLoading: () => dispatch({type: 'START_LOADING'}),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NotSignedInHeader)","import React from 'react'\nimport { connect } from 'react-redux'\nimport './styles.scss';\n\nimport {reauth} from '../../actions/authActions'\nimport {createDay, selectDay} from '../../actions/daysActions'\nimport {saveAll} from '../../actions/saveAllAction'\nimport {deleteDay, updateDay} from '../../actions/daysActions'\nimport SignedInHeader from './SignedInHeader/SignedInHeader'\nimport NotSignedInHeader from './NotSignedInHeader/NotSignedInHeader'\n\nclass Header extends React.Component {\n\n  state = {\n    username: '',\n    email: '',\n    usernameOrEmail: '',\n    password: '',\n    signup: false,\n    editDayName: false,\n    showSignup: false\n  }\n\n  componentDidMount(){\n    if (localStorage.getItem('token')){this.props.reauth()}; // thunk\n    const localStorageState = JSON.parse(localStorage.getItem('state'));\n    if (localStorageState){\n      this.props.addLocalStorageState(localStorageState);\n    }\n  }\n\n  handleSignOut = () => {\n    this.setState({\n      username: '',\n      email: '',\n      usernameOrEmail: '',\n      password: '',\n      signup: false,\n      editDayName: false,\n      dayName: ''\n    })\n    localStorage.removeItem('token');\n    this.props.signOut()\n  }\n\n  toggleSignup = (e) => {\n    e.preventDefault()\n    this.setState({showSignup: !this.state.showSignup})\n  }\n\n  prettyDayDisplay = (dayObj) => {\n    const day = new Date(dayObj.created_at)\n    return `${day.getMonth() + 1}-${day.getDate()}-${day.getFullYear()}` + (dayObj.name ? ` ${dayObj.name}` : '' )\n  }\n\n  dayOptions = () => {\n    // const days = this.props.days.filter(day => day.id !== this.props.day.id)\n    const days = this.props.days.sort((x, y) => new Date(y.created_at) - new Date(x.created_at))\n    return days.map(day => {\n      return <option value={day.id} key={day.id} >{this.prettyDayDisplay(day)}</option>\n    })\n  }\n  \n  editDayToggle = () => {\n    this.setState({editDayName: !this.state.editDayName})\n  }\n\n  handleDayNameChange = (e) => {\n    this.setState({dayName: e.target.value})\n  }\n\n  dayChangeHandler = e => {\n    // this.props.saveAll(this.props) // doesn't work?\n    this.props.selectDay(e.target.value)\n  }\n\n  todaysDate = () => {\n    const date = new Date()\n    const year = date.getFullYear()\n    let month = date.getMonth() + 1\n    let day = date.getDate()\n    if (month < 10) {month = `0${month}`}\n    if (day < 10) {day = `0${day}`}\n    return `${year}-${month}-${day}`\n  }\n\n  deleteDay = () => {\n    if (this.props.days.length > 1 && window.confirm('Are you sure you want to delete this day?')) {\n      const anotherDay = this.props.days.filter(x => x.id !== this.props.day.id)[0]\n      this.props.selectDay(anotherDay.id)\n      this.props.deleteDay(this.props.day.id)\n    }\n  }\n\n  render(){\n    return(\n      localStorage.getItem('token')\n      ? \n      < SignedInHeader /> \n      : \n      < NotSignedInHeader /> \n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return{\n    signOut: () => dispatch({ type: 'SIGN_OUT'}),\n    reauth: () => dispatch(reauth()),\n    createDay: () => dispatch(createDay()),\n    selectDay: (id) => dispatch(selectDay(id)),\n    editDayName: (dayName) => dispatch({type: 'EDIT_DAY_NAME', payload: dayName}),\n    saveAll: (state) => dispatch(saveAll(state)),\n    startLoading: () => dispatch({type: 'START_LOADING'}),\n    stopLoading: () => dispatch({type: 'STOP_LOADING'}),\n    deleteDay: (id) => dispatch(deleteDay(id)),\n    updateDay: (dayObj) => dispatch(updateDay(dayObj)),\n    addLocalStorageState: (localStorageState) => dispatch({ type: 'ADD_LOCAL_STORAGE_STATE', payload: localStorageState}),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)","import React from 'react'\nimport './styles.scss';\n\nconst Footer = () =>  {\n\n  return(\n    <div className='footer' >\n      \n      <a href='https://fdc.nal.usda.gov/' className='attribution'>\n        <div className='small'>Powered by the</div>\n        <h2>USDA</h2>\n      </a>\n    </div>\n  )\n}\n\nexport default Footer","import React from 'react';\nimport './App.css';\nimport SearchContainer from './components/SearchContainer/SearchContainer'\nimport Table from './components/Table/Table'\nimport Header from './components/Header/Header'\nimport {DragDropContext} from 'react-beautiful-dnd';\nimport {connect} from 'react-redux'\nimport Footer from './components/Footer/Footer'\nimport {saveAll} from './actions/saveAllAction'\n\nclass App extends React.Component {\n\n  onDragEnd = result => {\n    const {destination, draggableId} = result;\n    if (!destination) {\n      return;\n    }\n\n    const choiceFood = this.props.choiceFoods.find(x => x.choice.id === draggableId)\n    const categoryId = destination.droppableId\n    const thisCatsChoices = this.props.choiceFoods.filter(x => x.choice.category_id === categoryId)\n    const orderedChoices = thisCatsChoices.sort((x, y) => x.choice.index - y.choice.index)\n    const orderedIds = orderedChoices.map(x => x.choice.id)\n    if (choiceFood.choice.category_id === categoryId){\n      const index = orderedIds.indexOf(choiceFood.choice.id)\n      orderedIds.splice(index, 1)\n    }\n    orderedIds.splice(destination.index, 0, choiceFood.choice.id)\n    const choiceFoods = orderedIds.map((id, i) => {\n      this.props.editChoice({choice: {id: id, index: i, category_id: categoryId}})\n      return({choice: {id: id, index: i, category_id: categoryId}})\n    })\n    this.props.saveAll({choiceFoods: choiceFoods})\n  };\n\n  render(){\n    return (\n      <div className=\"App\">\n        < Header />\n        <DragDropContext onDragEnd={this.onDragEnd}>\n          < Table />\n        </DragDropContext>\n        <div className='loading'\n          style={{display: this.props.loading ? 'block' : 'none'}}\n        ></div>\n        <div  className='search'>\n          < SearchContainer />\n        </div>\n        < Footer />\n        {/* < SearchContainer /> */}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return{\n    editChoice: info => dispatch({ type: 'EDIT_CHOICE', payload: info}),\n    saveAll: info => dispatch(saveAll(info)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","var _ = require('lodash');\n\nconst initialState = {\n  categories: [\n    {name: 'Breakfast', created_at: 1, id: 1},\n    {name: 'Lunch', created_at: 2, id: 2},\n    {name: 'Snacks', created_at: 3, id: 3},\n    {name: 'Dinner', created_at: 4, id: 4}\n  ],\n  day: {},\n  days: [],\n  choiceFoods: [],\n  goal: {},\n  goals: [],\n  user: {},\n  error: {},\n  loading: false,\n  removed: []\n}\n\nconst putInLocalStorage = state => {\n  localStorage.setItem('state', JSON.stringify(state));\n  return state;\n}\n\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'ADD_CHOICE': {\n      const choiceFoodsCopy = _.cloneDeep(state.choiceFoods)\n      choiceFoodsCopy.push({\n        choice: {...action.payload.choice, id: action.payload.choice.id || Date.now()},\n        food: action.payload.food,\n        measures: action.payload.measures\n      })\n      return putInLocalStorage({...state, \n        choiceFoods: choiceFoodsCopy})\n    }\n    case 'ADD_CHOICES': {\n      return putInLocalStorage({...state, choiceFoods: [...state.choiceFoods, ...action.payload]})\n    }\n    case 'DELETE_CHOICE': {\n      const removedChoice = state.choiceFoods.find(x => x.choice.id === action.payload)\n      return putInLocalStorage({...state, \n        choiceFoods: state.choiceFoods.filter(x => x.choice.id !== action.payload),\n        removed: [\n          ...state.removed.filter(x => x.id !== removedChoice.food.id),\n          removedChoice.food\n        ]\n      })\n    }\n    case 'SELECT_USER': {\n      const {categories, day, days, goal, goals} = action.payload.user;\n      return putInLocalStorage({\n        ...state,\n        categories,\n        choiceFoods: action.payload.user.choice_foods,\n        day,\n        days,\n        goal,\n        goals,\n        user: {\n          email: action.payload.user.email,\n          id: action.payload.user.id,\n          username: action.payload.user.username\n        }\n      })\n    }\n    case 'EDIT_GOAL': {\n      return putInLocalStorage({\n        ...state,\n        goal: {\n          ...state.goal,\n          ...action.payload\n        },\n        goals: [\n          ...state.goals.filter(x => x.id !== state.goal.id),\n          {\n            ...state.goal,\n            ...action.payload\n          }\n        ]\n      })\n    }\n    case 'CHANGE_GOAL': {\n      const id = action.payload\n      const goal = state.goals.find(x => x.id === parseInt(id))\n      return putInLocalStorage({\n        ...state,\n        goal: goal\n      })\n    }\n    case 'SIGN_OUT': {\n      // console.log('sign out')\n      return putInLocalStorage(initialState)\n    }\n    case 'HANDLE_DROP': {\n      const newChoices = []\n      const choicesIds = action.payload.choicesIds\n      for (let i = 0; i < choicesIds.length; i ++) {\n        const choiceFood = state.choiceFoods.find(x => x.choice.id === parseInt(choicesIds[i]))\n\n\n        newChoices.push({...choiceFood, choice: {...choiceFood.choice, index: i}})\n      }\n      const choiceFood = newChoices.find(x => x.choice.id === action.payload.choiceId)\n      choiceFood.choice.category_id = action.payload.categoryId\n      return putInLocalStorage({\n        ...state,\n        choiceFoods: newChoices\n      })\n    }\n    case 'ADD_DAY': {\n      return putInLocalStorage({\n        ...state,\n        categories: action.payload.categories,\n        choiceFoods: [],\n        day: action.payload,\n        days: [...state.days, {...action.payload, goal_id: action.payload.goal.id}],\n        goal: action.payload.goal\n      })\n    }\n    case 'SELECT_DAY': {\n      return putInLocalStorage({\n        ...state,\n        categories: action.payload.categories,\n        choiceFoods: action.payload.choice_foods,\n        day: {\n          date: action.payload.date,\n          id: action.payload.id,\n          name: action.payload.name\n        },\n        goal: action.payload.goal,\n      })\n    }\n    case 'ADD_FOOD': {\n      return putInLocalStorage({\n        ...state,\n        choiceFoods: [...state.choiceFoods, action.payload]\n      })\n    }\n    case 'EDIT_CHOICE': {\n      const choiceFood = state.choiceFoods.find(x => x.choice.id === action.payload.choice.id)\n      return putInLocalStorage({\n        ...state,\n        choiceFoods: [\n          ...state.choiceFoods.filter(x => parseInt(x.choice.id) !== parseInt(choiceFood.choice.id)),\n          {\n            ...choiceFood,\n            choice: {...choiceFood.choice, ...action.payload.choice}\n          }\n        ]\n      })\n    }\n    case 'EDIT_DAY': {\n      const daysCopy = _.cloneDeep(state.days.filter(x=>x.id !== state.day.id))\n      let dayCopy = (daysCopy.find(x => x.id === state.day.id))\n      dayCopy = {...dayCopy, ...action.payload}\n      daysCopy.push(dayCopy)\n      return putInLocalStorage({\n        ...state,\n        day: dayCopy,\n        days: daysCopy\n      })\n    }\n    case 'ADD_GOAL': {\n      return putInLocalStorage({\n        ...state,\n        goal: action.payload,\n        goals: [\n          ...state.goals,\n          action.payload\n        ]\n      })\n    }\n    case 'START_LOADING': {\n      return {\n        ...state,\n        loading: true\n      }\n    }\n    case 'STOP_LOADING': {\n      return {\n        ...state,\n        loading: false\n      }\n    }\n    case 'DELETE_DAY': {\n      return putInLocalStorage({\n        ...state,\n        days: state.days.filter(x => x.id !== parseInt(action.payload))\n      })\n    }\n    case 'DELETE_GOAL': {\n      const newGoals = state.goals.filter(x => x.id !== parseInt(action.payload))\n      return putInLocalStorage({\n        ...state,\n        goals: newGoals,\n        goal: newGoals[0]\n      })\n    }\n    case 'ADD_LOCAL_STORAGE_STATE': {\n      console.log(action.payload)\n      return {...action.payload, removed: []};\n    }\n    default: {\n      return state\n    }\n  }\n}\n\nexport default reducer","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { createStore, applyMiddleware } from 'redux'\nimport reducer from './Redux/reducer'\nimport { Provider } from 'react-redux'\nimport thunk from 'redux-thunk'\n// import rootReducer from './reducers'\n\nconst store = createStore(\n  reducer, applyMiddleware(thunk) //, /* preloadedState, */\n  // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}